{"version":3,"file":"utils.modern.js","sources":["../src/utils/parseSearch.js","../src/utils/getDataFailedRequest.js","../src/utils/unicodeBase64Decode.js","../src/utils/formatBytesSize.js","../src/utils/downloadFile.js","../src/utils/parseStackParams.js","../src/utils/parseStackTabs.js","../src/utils/getFormattedDuration.js","../src/utils/fileToBaseTo64.js","../src/utils.js"],"sourcesContent":["const parseSearch = searchString => {\n    const search = searchString.substring(1);\n\n    let params = {};\n\n    if (!search.length)\n        return params;\n\n    try {\n        params = JSON.parse(\n            '{\"'\n            + decodeURIComponent(search).replace(/\"/g, '\\\\\"')\n                .replace(/&/g, '\",\"')\n                .replace(/=/g, '\":\"')\n            + '\"}');\n    } catch (e) {\n        params = {};\n    }\n\n    return params;\n};\n\nexport default parseSearch;","import {get as _get} from 'lodash-es';\n\nconst getDataFailedRequest = responseError => {\n    let error = 'Unknown error';\n\n    try {\n        error = JSON.parse(_get(responseError, 'request.response')).message;\n    } catch (e) {\n        console.log(error, e);\n    }\n\n    const requestStatus = _get(responseError, 'request.status');\n\n    return {error, requestStatus};\n};\n\nexport default getDataFailedRequest;","const unicodeBase64Decode = text => {\n    try {\n        const decodeData = window.atob(text);\n\n        return decodeURIComponent(Array.prototype.map.call(decodeData, c => {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    } catch (e) {\n        return null;\n    }\n};\n\nexport default unicodeBase64Decode;","const formatBytes = (bytes, decimals) => {\n    if (bytes === 0) return '0 Bytes';\n    \n    let k = 1024;\n\n    let dm = decimals <= 0 ? 0 : decimals || 2;\n\n    let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    let i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport default formatBytes;","const downloadFile = ({url, blob, type, fileName}) => {\n    if (blob) {\n        const\n            link = document.createElement('a');\n\n        link.href = window.URL.createObjectURL(new Blob([blob]));\n        link.setAttribute('target', '_blank');\n        link.setAttribute('download', fileName);\n        link.setAttribute('type', type);\n\n        document.body.appendChild(link);\n        link.click();\n        link.parentNode.removeChild(link);\n    }\n\n    if (url) {\n        const\n            link = document.createElement('a');\n\n        link.href = url;\n        link.setAttribute('target', '_blank');\n        link.setAttribute('download', true);\n\n        document.body.appendChild(link);\n        link.click();\n        link.parentNode.removeChild(link);\n    }\n};\n\nexport default downloadFile;","export default attachments => {\n    const fields = {};\n\n    if (!attachments || !attachments.length)\n        return;\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (i.params[key] instanceof Object)\n                return;\n\n            if (fields[key])\n                fields[key].options.push(i.params[key]);\n            else\n                fields[key] = {options: [i.params[key]]};\n        });\n    });\n\n    Object.keys(fields).forEach(key => {\n        if (typeof fields[key].options[0] === 'string') {\n            fields[key].type = 'select';\n\n            fields[key].options = fields[key].options\n                .filter((a, b) => fields[key].options.indexOf(a) === b)\n                .map(i => ({\n                    label: i,\n                    value: i,\n                }));\n        }\n\n        if (typeof fields[key].options[0] === 'boolean') {\n            fields[key].type = 'checkbox';\n        }\n\n        if (typeof fields[key].options[0] === 'number') {\n            const options = fields[key].options;\n\n            fields[key].type = 'slider';\n            fields[key].min = Math.min.apply(null, options);\n            fields[key].max = Math.max.apply(null, options);\n\n            fields[key].options = {};\n\n            options\n                .filter((a, b) => options.indexOf(a) === b)\n                .forEach(i => fields[key].options[i] = i);\n        }\n    });\n\n    return fields;\n};\n","export default attachments => {\n    const tabs = [];\n\n    if (!attachments || !attachments.length)\n        return;\n\n    attachments.forEach(i => {\n        Object.keys(i.params).forEach(key => {\n            if (i.params[key] instanceof Object\n                && i.params[key].type === 'tab'\n            ) {\n                const tab = i.params[key].title || key;\n\n                if (!tabs.find(i => i.value === tab))\n                    tabs.push({\n                        label: tab,\n                        value: tab,\n                        key,\n                    });\n            }\n        });\n    });\n\n    return tabs;\n};\n","import moment from 'moment';\n\nexport default duration => {\n    if (duration < 1000)\n        return '0sec';\n\n    let string = '';\n\n    const momentDuration = moment.duration(duration);\n    const hours = momentDuration.hours();\n    const minutes = momentDuration.minutes();\n    const seconds = momentDuration.seconds();\n\n    if (hours)\n        string += `${moment.duration(hours, 'hours').as('hours')}h`;\n\n    if (minutes)\n        string += ` ${moment.duration(minutes, 'minutes').as('minutes')}min`;\n\n    if (seconds)\n        string += ` ${moment.duration(seconds, 'seconds').asSeconds()}sec`;\n\n    return string;\n};","const fileToBase64 = async file => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = error => reject(error);\n});\n\nexport default fileToBase64;","import parseSearch from './utils/parseSearch';\nimport getDataFailedRequest from './utils/getDataFailedRequest';\nimport unicodeBase64Decode from './utils/unicodeBase64Decode';\nimport formatBytes from './utils/formatBytesSize';\nimport downloadFile from './utils/downloadFile';\nimport parseStackParams from './utils/parseStackParams';\nimport parseStackTabs from './utils/parseStackTabs';\nimport getFormattedDuration from './utils/getFormattedDuration';\nimport fileToBaseTo64 from './utils/fileToBaseTo64';\n\nconst isSignedIn = () => {\n    const token = localStorage.getItem('token');\n\n    return Boolean(token && token.length);\n};\n\nexport {\n    isSignedIn,\n    downloadFile,\n    formatBytes,\n    parseSearch,\n    getDataFailedRequest,\n    unicodeBase64Decode,\n    parseStackParams,\n    parseStackTabs,\n    getFormattedDuration,\n    fileToBaseTo64\n};\n"],"names":["parseSearch","searchString","search","substring","params","length","JSON","parse","decodeURIComponent","replace","e","getDataFailedRequest","responseError","error","_get","message","console","log","requestStatus","unicodeBase64Decode","text","decodeData","window","atob","Array","prototype","map","call","c","charCodeAt","toString","slice","join","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","parseFloat","pow","toFixed","downloadFile","url","blob","type","fileName","link","document","createElement","href","URL","createObjectURL","Blob","setAttribute","body","appendChild","click","parentNode","removeChild","attachments","fields","forEach","Object","keys","key","options","push","filter","a","b","indexOf","label","value","min","apply","max","tabs","tab","title","find","duration","string","momentDuration","moment","hours","minutes","seconds","as","asSeconds","fileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","split","onerror","isSignedIn","token","localStorage","getItem","Boolean"],"mappings":"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"}